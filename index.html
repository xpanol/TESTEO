<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>TESTEO - MARKETING DIGITAL | DIGITAL MARKETING</title>
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
<style>
body { 
  font-family: 'Special Elite', cursive; 
  padding: 20px; 
  background-color: #f8ac10; 
  background-image: url('XPANOL_SEAMLESS.png'); 
  background-repeat: repeat; 
  background-size: auto; 
  background-blend-mode: lighten; 
  color: #000; 
  display: flex; 
  justify-content: center;
}

#quiz-wrapper { width: 80%; max-width: 900px; }

h1 { text-align:center; font-size:80px; color:#fff; margin-bottom:5px; }
h2 { text-align:center; font-size:1.8em; color:#000; margin-bottom:20px; }

.word-box-es {
  background-color: #f8ac10; 
  padding: 15px 20px;
  border-radius: 8px;
  display: inline-block;
  margin: 10px 0;
  font-size: 1.5em;
  text-align: center;
  font-weight: bold;
}

.word-box-en {
  background-color: #d9171a; 
  padding: 15px 20px;
  border-radius: 8px;
  display: inline-block;
  margin: 10px 0;
  font-size: 1.5em;
  text-align: center;
  font-weight: bold;
  color: #fff;
}

.question { 
  margin-bottom:20px; 
  padding:15px 20px; 
  background:#fff; 
  border-radius:8px; 
  box-shadow:0 2px 5px rgba(0,0,0,0.2); 
  font-size:1.3em;
}

.options label { 
  display:block; 
  margin:8px 0; 
  cursor:pointer; 
  font-size:1.1em; 
  color:#000;
}

input[type="radio"] { 
  accent-color: #f8ac10; 
}

.feedback { 
  margin-top:8px; 
  font-weight:bold; 
  font-size:1.1em; 
}

.correct { color: green; }
.wrong { color: red; }

#resultado { margin-top:25px; font-weight:bold; font-size:1.5em; text-align:center; }
#pagination { text-align:center; margin-top:20px; }

button { 
  background:#fff; 
  border:2px solid #000; 
  border-radius:5px; 
  padding:8px 15px; 
  font-size:1em; 
  cursor:pointer; 
  margin: 0 5px;
}

.modal { 
  display:none; 
  position:fixed; 
  z-index:9999; 
  left:0; top:0; 
  width:100%; height:100%; 
  background-color:rgba(0,0,0,0.7); 
  justify-content:center; 
  align-items:center;
}

.modal-content { 
  background:#fff; 
  padding:40px 60px; 
  border-radius:10px; 
  text-align:center; 
  max-width:600px; 
  animation:bounceIn 1s forwards;
}

.modal h1 { font-size:3em; margin-bottom:20px; }
#modal-success h1 { color: #f8ac10; }
.modal p { font-size:1.5em; }

@keyframes bounceIn { 0%{transform:scale(0.5);opacity:0;} 60%{transform:scale(1.2);opacity:1;} 100%{transform:scale(1);opacity:1;} }

</style>
</head>
<body>

<div id="quiz-wrapper">
  <h1>TESTEO</h1>
  <h2>MARKETING DIGITAL | DIGITAL MARKETING</h2>
  <div id="quiz-container"></div>
  <div id="pagination"></div>
  <div id="resultado"></div>
</div>

<div id="modal-success" class="modal">
  <div class="modal-content">
    <h1>¡ENHORABUENA!</h1>
    <p>LO HAS CONSEGUIDO :)</p>
  </div>
</div>

<div id="modal-try" class="modal">
  <div class="modal-content">
    <h1>¡INTÉNTALO DE NUEVO!</h1>
    <p>No lograste todas las respuestas correctas :)</p>
  </div>
</div>

<script>
// Quiz data (przykład z 5 pytań, resztę możesz dopisać analogicznie)
const quizData = [
{question:'“Meeting” en español es:', options:['reunión','empezar la reunión','objetivos principales'], answer:'reunión'},
{question:'“Start the meeting” se traduce como:', options:['resumen de la reunión','empezar la reunión','reunión'], answer:'empezar la reunión'},
{question:'“Main objectives” en español:', options:['resumen de la reunión','objetivos principales','acuerdos'], answer:'objetivos principales'},
{question:'“This quarter” significa:', options:['siguiente paso','este trimestre','periodo'], answer:'este trimestre'},
{question:'“KPI” en español:', options:['indicador clave de rendimiento','retorno de inversión','panel de control'], answer:'indicador clave de rendimiento'}
];

const questionsPerPage = 5;
let currentPage = 0;
const answersState = Array(quizData.length).fill(null);

function shuffleArray(arr){
  let array = arr.slice();
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
  return array;
}

function renderPage(){
  const container = document.getElementById('quiz-container');
  container.innerHTML='';
  const start = currentPage * questionsPerPage;
  const end = start + questionsPerPage;
  const pageData = quizData.slice(start,end);

  pageData.forEach((item,index)=>{
    const globalIndex = start + index;
    const shuffledOptions = shuffleArray(item.options);
    const div = document.createElement('div');
    div.className='question';
    div.innerHTML=`<p>${globalIndex+1}. ${item.question}</p>
      <div class="options">
      ${shuffledOptions.map(opt=>`<label><input type="radio" name="q${globalIndex}" value="${opt}" ${answersState[globalIndex]===opt?'checked':''}> ${opt}</label>`).join('')}
      </div>
      <div class="feedback" id="fb-q${globalIndex}"></div>`;
    container.appendChild(div);

    const inputs = div.querySelectorAll('input[type="radio"]');
    inputs.forEach(input=>{
      input.addEventListener('change',()=>{
        answersState[globalIndex] = input.value;
        const feedback = document.getElementById('fb-q'+globalIndex);
        if(input.value===quizData[globalIndex].answer){
          feedback.textContent='✅ Correcto!';
          feedback.className='feedback correct';
        } else {
          feedback.textContent='❌ Incorrecto!';
          feedback.className='feedback wrong';
        }
      });
    });
  });

  renderPagination();
}

function renderPagination(){
  const pagination = document.getElementById('pagination');
  pagination.innerHTML='';

  if(currentPage > 0){
    const prevBtn=document.createElement('button');
    prevBtn.textContent='Anterior';
    prevBtn.addEventListener('click',()=>{
      currentPage--;
      renderPage();
    });
    pagination.appendChild(prevBtn);
  }

  if((currentPage+1)*questionsPerPage < quizData.length){
    const nextBtn=document.createElement('button');
    nextBtn.textContent='Siguiente';
    nextBtn.addEventListener('click',()=>{
      currentPage++;
      renderPage();
    });
    pagination.appendChild(nextBtn);
  } else {
    const finishBtn=document.createElement('button');
    finishBtn.textContent='Finalizar';
    finishBtn.addEventListener('click', checkFinalScore);
    pagination.appendChild(finishBtn);
  }
}

function checkFinalScore(){
  if(answersState.includes(null)){
    alert('Debes responder todas las preguntas antes de finalizar.');
    return;
  }
  let score = answersState.filter((ans,i)=>ans===quizData[i].answer).length;
  document.getElementById('resultado').textContent=`Puntuación: ${score} / ${quizData.length}`;

  const modalSuccess=document.getElementById('modal-success');
  const modalTry=document.getElementById('modal-try');

  if(score===quizData.length){
    modalSuccess.style.display='flex';
  } else {
    modalTry.style.display='flex';
  }
}

document.getElementById('modal-success').addEventListener('click',()=>{
  document.getElementById('modal-success').style.display='none';
});
document.getElementById('modal-try').addEventListener('click',()=>{
  document.getElementById('modal-try').style.display='none';
  resetQuiz();
});

function resetQuiz(){
  for(let i=0;i<answersState.length;i++) answersState[i]=null;
  document.getElementById('resultado').textContent='';
  currentPage=0;
  renderPage();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

renderPage();
</script>
</body>
</html>
